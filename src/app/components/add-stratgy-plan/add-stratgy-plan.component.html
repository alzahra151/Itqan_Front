<div class=" text-sm">
    <h5 class="mx-1 text-center mt-1"> انشاء خطة استراتيجية</h5>
    <form class="w-full" [formGroup]="strategicPlanForm">
        <div class="grid grid-cols-12  lg:m-4 m-1 p-2 flex items-center">
            <div class="col-span-8 lg:px-2 px-1 ">
                <input type="text" formControlName="name" name="full_name" id="full_name" placeholder="اسم الخطة"
                    class=" bg-white w-full h-7 border-0 mt-1  px-4   bg-gray-60" value="" />
            </div>
            <div class="col-span-2 lg:px-2 px-1">
                <!-- <input type="text" formControlName="name" name="full_name" id="full_name" placeholder="اسم الخطة"
                class=" bg-white w-full h-7 border-0 mt-1  px-4   bg-gray-60" value="" /> -->
                <!-- <p-calendar [(ngModel)]="startDate" class="text-sm w-full" placeholder="تاريخ البداية"></p-calendar> -->
                <p-calendar placeholder="تاريخ البداية" formControlName="start_date"></p-calendar>
            </div>
            <div class="col-span-2 lg:px-2 px-1 ">

                <p-calendar formControlName="end_date" placeholder="تاريخ النهاية"></p-calendar>
            </div>
            <div class="col-span-12 my-3">
                <textarea formControlName="introduction" class="w-full mt-2 border-0" rows=""
                    placeholder="مقدمة الخطة"></textarea>
            </div>
            <div class="col-span-12 bg-white lg:p-4 p-2 mb-4 ">
                <div class="">
                    <h5>الاهداف الاساسية وفق بطاقة الاداء المتوازن</h5>
                    <div class="flex">
                        <div class="p-1">
                            <svg (click)="addGoal()" fill="#3076d8" version="1.1" id="Capa_1"
                                xmlns="http://www.w3.org/2000/svg" class="w-4 h-4"
                                xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 45.402 45.402"
                                xml:space="preserve">
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier">
                                    <g>
                                        <path
                                            d="M41.267,18.557H26.832V4.134C26.832,1.851,24.99,0,22.707,0c-2.283,0-4.124,1.851-4.124,4.135v14.432H4.141 c-2.283,0-4.139,1.851-4.138,4.135c-0.001,1.141,0.46,2.187,1.207,2.934c0.748,0.749,1.78,1.222,2.92,1.222h14.453V41.27 c0,1.142,0.453,2.176,1.201,2.922c0.748,0.748,1.777,1.211,2.919,1.211c2.282,0,4.129-1.851,4.129-4.133V26.857h14.435 c2.283,0,4.134-1.867,4.133-4.15C45.399,20.425,43.548,18.557,41.267,18.557z">
                                        </path>
                                    </g>
                                </g>
                            </svg>
                        </div>
                        <table class="table-auto border-collapse border border-slate-400 w-full bg-white text-sm">
                            <thead class="bg-[#3076d8] text-white">
                                <tr class="p-1 whitespace-nowrap">

                                    <th class="border border-slate-300 p-1 w-5/12"> الهدف</th>
                                    <th class="border border-slate-300 p-1 w-5/12"> الشرح</th>
                                    <th class="border border-slate-300 p-1 w-1/12 "> الاختصار</th>
                                </tr>
                            </thead>
                            <tbody formArrayName="goals">
                                @for (item of goals.controls; track item;let i=$index) {
                                <tr class="p-2 " [formGroupName]="i">
                                    <!-- <td></td> -->
                                    <td class=" border border-slate-300 ">
                                        <input type="text" formControlName="name" id="first_name"
                                            class="border-0 py-1 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                                            placeholder="من فضلك ادخل الهدف هنا" required />
                                    </td>
                                    <td class=" px-1 border border-slate-300 ">
                                        <input type="text" formControlName="description" id="first_name"
                                            class="border-0 py-1 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                                            placeholder="من فضلك ادخل الشرح هنا" required />
                                    </td>
                                    <td class=" px-1 border border-slate-300 text-center">
                                        <input type="text" formControlName="abbreviation" id="first_name"
                                            class="text-center border-0 py-1 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                                            placeholder="" required />
                                    </td>
                                </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-span-12 bg-white lg:p-4">
                <div class="">
                    <h5>الاهداف الفرعية</h5>
                    <div class="flex ">
                        <div class="p-1">
                            <svg (click)="addSubGoal()" fill="#3076d8" version="1.1" id="Capa_1"
                                xmlns="http://www.w3.org/2000/svg" class="w-4 h-4"
                                xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 45.402 45.402"
                                xml:space="preserve">
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier">
                                    <g>
                                        <path
                                            d="M41.267,18.557H26.832V4.134C26.832,1.851,24.99,0,22.707,0c-2.283,0-4.124,1.851-4.124,4.135v14.432H4.141 c-2.283,0-4.139,1.851-4.138,4.135c-0.001,1.141,0.46,2.187,1.207,2.934c0.748,0.749,1.78,1.222,2.92,1.222h14.453V41.27 c0,1.142,0.453,2.176,1.201,2.922c0.748,0.748,1.777,1.211,2.919,1.211c2.282,0,4.129-1.851,4.129-4.133V26.857h14.435 c2.283,0,4.134-1.867,4.133-4.15C45.399,20.425,43.548,18.557,41.267,18.557z">
                                        </path>
                                    </g>
                                </g>
                            </svg>
                        </div>
                        <table class="table-auto border-collapse border border-slate-400 w-full bg-white text-sm mb-2">
                            <thead class="bg-[#3076d8] text-white">
                                <tr class="p-1 whitespace-nowrap">
                                    <th class="border border-slate-300 p-1 w-5/12 "> الهدف </th>
                                    <th class="border border-slate-300 p-1 w-5/12"> الشرح</th>
                                    <th class="border border-slate-300 p-1 w-1/12 "> الهدف الرئيسي</th>
                                </tr>
                            </thead>
                            <tbody formArrayName="sub_goals">
                                @for (item of sub_goals.controls; track item;let j=$index) {
                                <tr class="" [formGroupName]="j">
                                    <td class="border border-slate-300 ">
                                        <input type="text" formControlName="name" id="first_name"
                                            class=" py-1 border-0  text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                                            placeholder="من فضلك ادخل الهدف هنا" required />
                                    </td>
                                    <td class="border border-slate-300 ">
                                        <input type="text" formControlName="description" id="first_name"
                                            class="border-0 py-1  text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                                            placeholder="من فضلك ادخل الشرح هنا" required />
                                    </td>
                                    <td class="  border border-slate-300 ">
                                        <select formControlName="goal_abbreviation"
                                            class="select-dropdown text-sm w-full border-0 py-0">
                                            <option value="1" disabled selected>اختر الاختصار </option>
                                            @for (item of abbreviations; track $index) {
                                            <option [value]="item.abbreviation">{{item.abbreviation}}</option>
                                            }

                                        </select>
                                    </td>
                                </tr>
                                }

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-span-12 bg-white mt-8 p-3 justify-end flex">
                <button class="bg-[#014daa] rounded-lg px-3 text-white py-2 mx-1">السابق</button>
                <button class="bg-[#014daa] rounded-lg px-3 text-white py-2 mx-1  " (click)="addStratigicPlan()">حفظ
                </button>
                <button class="bg-[#014daa] rounded-lg px-3 text-white py-2 mx-1">التالي</button>
            </div>
        </div>
    </form>
    <!-- {{strategicPlanForm.value | json}} -->